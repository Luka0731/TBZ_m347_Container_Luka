# KN01



## A) Installation
![Image](../../02%20-%20resources/01%20-%20images/1a-docker-hub.jpg)
![Image](../../02%20-%20resources/01%20-%20images/1a-docker-start-website.jpg)



## B) Docker Command Line Interface

### 1. Docker Version überprüfen
```bash
docker --version
```
![Image](../../02%20-%20resources/01%20-%20images/1b-1-version-check.jpg)

### 2. Docker Hub durchsuchen
```bash
docker search ubuntu
docker search nginx
```
![Image](../../02%20-%20resources/01%20-%20images/1b-2-search.jpg)

### 3. Erklärung von Teil A
`docker run -d -p 80:80 docker/getting-started`
| Parameter | Beschreibung |
|---|---|
| `docker run` | Erstellt und startet einen neuen Container |
| `-d` | Detached Mode – Container läuft im Hintergrund |
| `-p 80:80` | Port-Mapping – Host-Port 80 wird auf Container-Port 80 gemappt |
| `docker/getting-started` | Name des Images, das von Docker Hub heruntergeladen wird |

### 4. Nginx mit pull, create, start
```bash
docker pull nginx
```
```bash
docker create -p 8081:80 --name my-nginx nginx
```
```bash
docker start my-nginx
```
Danach `http://localhost:8081` im Browser aufrufen:
![Image](../../02%20-%20resources/01%20-%20images/1b-4-nginx-homepage.jpg)

### 5. Ubuntu Container
#### Detached Mode
```bash
docker run -d --name my-ubuntu ubuntu
```
Der Container wird erstellt und sofort gestartet. Da Ubuntu jedoch keinen dauerhaft laufenden Prozess hat (wie z.B. einen Webserver), beendet sich der Container direkt wieder. Das Image wurde automatisch heruntergeladen, da es lokal nicht vorhanden war. Mit `docker ps -a` sieht man, dass der Container den Status "exited" hat.
#### Interaktiver Modus
```bash
docker run -it --name my-ubuntu2 ubuntu
```
Mit `-it` wird eine interaktive Shell im Container geöffnet. Man befindet sich direkt in der Bash-Shell des Ubuntu-Containers und kann Befehle ausführen wie auf einem normalen Linux-System. Der Container bleibt aktiv, solange die Shell offen ist. Mit `exit` wird die Shell und damit auch der Container beendet.

### 6. Shell in laufendem nginx Container öffnen
```bash
docker exec -it my-nginx /bin/bash
```
Innerhalb des Containers:
```bash
service nginx status
```
![Image](../../02%20-%20resources/01%20-%20images/1b-6-in-container.jpg)
Danach mit `exit` die Shell verlassen. Der Container läuft weiter, da `exec` nur eine zusätzliche Shell öffnet und nicht den Hauptprozess beendet.

### 7. Container Status überprüfen
```bash
docker ps -a
```
![Image](../../02%20-%20resources/01%20-%20images/1b-7-showing-status-of-all-containers.jpg)

### 8. Nginx Container stoppen
```bash
docker stop my-nginx
```

### 9. Alle Container entfernen
```bash
docker rm $(docker ps -a -q)
```

### 10. Images entfernen
```bash
docker rmi nginx ubuntu
```



## C) Registry und Repository
![Image](../../02%20-%20resources/01%20-%20images/1c-docker-hub.jpg)



## D) Privates Repository

### 1. nginx Image taggen
```bash
docker pull nginx
docker tag nginx:latest luka0731/m347:nginx
```
`docker tag` erstellt eine neue Referenz (einen Alias) für ein bestehendes Image. Das Image wird dabei nicht kopiert, es bekommt nur einen zusätzlichen Namen, der auf dasselbe Image zeigt. Ein **Tag** ist ein lable für eine bestimmte Version eines Images in einem Repository, ähnlich wie ein Branch-Name in Git.

### 2. nginx Image pushen
```bash
docker push luka0731/m347:nginx
```
`docker push` lädt das lokal getaggte Image in das angegebene Repository auf Docker Hub hoch. Da das Repo privat ist, muss man vorher mit `docker login` eingeloggt sein.

### 3. mariadb Image taggen
```bash
docker pull mariadb
docker tag mariadb:latest luka0731/m347:mariadb
```
Gleicher Vorgang wie bei nginx – das mariadb Image bekommt einen neuen Tag der auf das private Repository zeigt.

### 4. mariadb Image pushen
```bash
docker push luka0731/m347:mariadb
```

### 5 immage
![Screenshot Docker Hub mit Tags](../../02%20-%20resources/01%20-%20images/1c-docker-hub-tags.jpg)